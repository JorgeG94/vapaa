#!/bin/bash

for e in MPI_SUCCESS MPI_ERR_BUFFER MPI_ERR_COUNT MPI_ERR_TYPE MPI_ERR_TAG MPI_ERR_COMM MPI_ERR_RANK MPI_ERR_REQUEST MPI_ERR_ROOT MPI_ERR_GROUP MPI_ERR_OP MPI_ERR_TOPOLOGY MPI_ERR_DIMS MPI_ERR_ARG MPI_ERR_UNKNOWN MPI_ERR_TRUNCATE MPI_ERR_OTHER MPI_ERR_INTERN MPI_ERR_PENDING MPI_ERR_IN_STATUS MPI_ERR_ACCESS MPI_ERR_AMODE MPI_ERR_ASSERT MPI_ERR_BAD_FILE MPI_ERR_BASE MPI_ERR_CONVERSION MPI_ERR_DISP MPI_ERR_DUP_DATAREP MPI_ERR_FILE_EXISTS MPI_ERR_FILE_IN_USE MPI_ERR_FILE MPI_ERR_INFO_KEY MPI_ERR_INFO_NOKEY MPI_ERR_INFO_VALUE MPI_ERR_INFO MPI_ERR_IO MPI_ERR_KEYVAL MPI_ERR_LOCKTYPE MPI_ERR_NAME MPI_ERR_NO_MEM MPI_ERR_NOT_SAME MPI_ERR_NO_SPACE MPI_ERR_NO_SUCH_FILE MPI_ERR_PORT MPI_ERR_PROC_ABORTED MPI_ERR_QUOTA MPI_ERR_READ_ONLY MPI_ERR_RMA_ATTACH MPI_ERR_RMA_CONFLICT MPI_ERR_RMA_RANGE MPI_ERR_RMA_SHARED MPI_ERR_RMA_SYNC MPI_ERR_RMA_FLAVOR MPI_ERR_SERVICE MPI_ERR_SESSION MPI_ERR_SIZE MPI_ERR_SPAWN MPI_ERR_UNSUPPORTED_DATAREP MPI_ERR_UNSUPPORTED_OPERATION MPI_ERR_VALUE_TOO_LARGE MPI_ERR_WIN MPI_T_ERR_CANNOT_INIT MPI_T_ERR_NOT_ACCESSIBLE MPI_T_ERR_NOT_INITIALIZED MPI_T_ERR_NOT_SUPPORTED MPI_T_ERR_MEMORY MPI_T_ERR_INVALID MPI_T_ERR_INVALID_INDEX MPI_T_ERR_INVALID_ITEM MPI_T_ERR_INVALID_SESSION MPI_T_ERR_INVALID_HANDLE MPI_T_ERR_INVALID_NAME MPI_T_ERR_OUT_OF_HANDLES MPI_T_ERR_OUT_OF_SESSIONS MPI_T_ERR_CVAR_SET_NOT_NOW MPI_T_ERR_CVAR_SET_NEVER MPI_T_ERR_PVAR_NO_WRITE MPI_T_ERR_PVAR_NO_STARTSTOP MPI_T_ERR_PVAR_NO_ATOMIC MPI_ERR_LASTCODE ; do
    grep -L "integer.*$e" mpi_error_f.F90 >& /dev/null && echo $e is missing
done

for c in MPI_BOTTOM MPI_IN_PLACE MPI_PROC_NULL MPI_ANY_SOURCE MPI_ANY_TAG MPI_UNDEFINED MPI_BSEND_OVERHEAD MPI_KEYVAL_INVALID MPI_LOCK_EXCLUSIVE MPI_LOCK_SHARED MPI_ROOT MPI_MESSAGE_NO_PROC MPI_MAX_DATAREP_STRING MPI_MAX_ERROR_STRING MPI_MAX_INFO_KEY MPI_MAX_INFO_VAL MPI_MAX_LIBRARY_VERSION_STRING MPI_MAX_OBJECT_NAME MPI_MAX_PORT_NAME MPI_MAX_PROCESSOR_NAME MPI_MAX_STRINGTAG_LEN MPI_MAX_PSET_NAME_LEN MPI_COMM_TYPE_SHARED MPI_COMM_TYPE_HW_UNGUIDED MPI_COMM_TYPE_HW_GUIDED MPI_IDENT MPI_CONGRUENT MPI_SIMILAR MPI_UNEQUAL MPI_TAG_UB MPI_IO MPI_HOST MPI_WTIME_IS_GLOBAL ; do
    grep -L "integer.*$c" mpi_global_constants.F90 >& /dev/null && echo $c is missing
done

for t in MPI_CHAR MPI_SHORT MPI_INT MPI_LONG MPI_LONG_LONG_INT MPI_LONG_LONG MPI_SIGNED_CHAR MPI_UNSIGNED_CHAR MPI_UNSIGNED_SHORT MPI_UNSIGNED MPI_UNSIGNED_LONG MPI_UNSIGNED_LONG_LONG MPI_FLOAT MPI_DOUBLE MPI_LONG_DOUBLE MPI_WCHAR MPI_C_BOOL MPI_INT8_T MPI_INT16_T MPI_INT32_T MPI_INT64_T MPI_UINT8_T MPI_UINT16_T MPI_UINT32_T MPI_UINT64_T MPI_AINT MPI_COUNT MPI_OFFSET MPI_C_COMPLEX MPI_C_FLOAT_COMPLEX MPI_C_DOUBLE_COMPLEX MPI_C_LONG_DOUBLE_COMPLEX MPI_BYTE MPI_PACKED MPI_INTEGER MPI_REAL MPI_DOUBLE_PRECISION MPI_COMPLEX MPI_LOGICAL MPI_CHARACTER MPI_AINT MPI_COUNT MPI_OFFSET MPI_BYTE MPI_PACKED MPI_DOUBLE_COMPLEX MPI_INTEGER1 MPI_INTEGER2 MPI_INTEGER4 MPI_INTEGER8 MPI_INTEGER16 MPI_REAL2 MPI_REAL4 MPI_REAL8 MPI_REAL16 MPI_COMPLEX4 MPI_COMPLEX8 MPI_COMPLEX16 MPI_COMPLEX32 MPI_FLOAT_INT MPI_DOUBLE_INT MPI_LONG_INT MPI_2INT MPI_SHORT_INT MPI_LONG_DOUBLE_INT MPI_2REAL MPI_2DOUBLE_PRECISION MPI_2INTEGER ; do
    grep -L "MPI_Datatype.*$t" mpi_datatype_f.F90 >& /dev/null && echo $t is missing
done
